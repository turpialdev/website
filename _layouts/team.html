<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

{% include head.html %}

<style>
    .main-head,
    .content,
    .main-footer {
        background-color: #fff;
    }

    .content {
        margin: 0;
    }

    #grid {
        width: calc((36vw * {{ page.gridSize }}) + 26px);
    }
    @media only screen and (min-width: 767px) and (max-width: 1025px) {
        #grid {
            width: calc((26vw * {{ page.gridSize }}) + 52px);
        }
    }
    @media only screen and (min-width:1025px) {
        #grid {
            width: calc((16vw * {{ page.gridSize }}) + 52px);
        }
    }
</style>

<body>

    <div class="wrapper">

        <header class="main-head">
            {% include header.html %}
        </header>

        <div class="content">
            <div id="team">

                <section id="grid">
                    {% for element in page.elements %}

                        {% if element.template != 'people' %}
                        <div class="{{ element.template }} {{ element.span }}">

                            {% if element.template == 'title' %}
                            <div>
                                <h1>{{ element.title }}</h1>
                                <p>{{ element.text }}</p>
                            </div>
                            {% endif %}
                            
                            {% if element.template != 'title' %}
                                <p>{{ element.text }}</p>

                                {% if element.title %}
                                <h2>{{ element.title }}</h2>
                                {% endif %}
                            {% endif %}
                            
                            {% if element.button %}
                            <a class="call-to-action" href="{{ element.url }}">{{ element.button }}</a>
                            {% endif %}
                            
                            {% if !element.image %}
                            <b>{{ element.name }}</b>
                            {% endif %} 
                            
                        </div>
                        {% endif %} 

                        {% if element.template == 'people' %}
                        <div id="{{ element.name | remove: ' ' }}" class="{{ element.template }} {{ element.span }}"></div>
                        <style>
                            [id|="{{ element.name | remove: ' ' }}"] {
                                background: url('{{ element.image }}');
                            }
                            [id|="{{ element.name | remove: ' ' }}"]:hover {
                                background: url('{{ element.hover }}');
                            }
                        </style>
                        {% endif %}

                    {% endfor %}
                </section>


            </div>
        </div>

        <footer class="main-footer">
            {% include footer.html %}
        </footer>

    </div>


</body>

{% include script.html %}

<script>
    $(function() {
        var elmnt = document.getElementById("grid");
        console.log(elmnt);
        console.log(elmnt.scrollLeft);
        elmnt.scrollLeft = 800;
        console.log(elmnt.scrollLeft);

        const doScroll = function (e) {
            // cross-browser wheel delta
            e = window.event || e;
            const delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));

            // Do something with `delta`
            console.log(delta);
            console.log($(".team").scrollLeft());
            $(".team").scrollLeft(1500);
            console.log($(".team").scrollLeft());
//            $(".team").scrollLeft(delta * 30);


            e.preventDefault();
        };

        if (window.addEventListener) {
            window.addEventListener("mousewheel", doScroll, false);
            window.addEventListener("DOMMouseScroll", doScroll, false);
        } else {
            window.attachEvent("onmousewheel", doScroll);
        }

        $(document).keyup(function (e) {
            var key = e.charCode ? e.charCode : e.keyCode ? e.keyCode : 0;
            if ( key == 38 ) {  /* up */
                console.log(key, " wah");
//                $(".team").scrollLeft( -30 );
            }else if( key == 40 ){  /* down */
                console.log(key, " wow");
//                $(".team").scrollLeft( 30 );
            }
            e.preventDefault();
            return false;
        });

    });
</script>

</html>